<!DOCTYPE html>
<html lang="en">
<!-- Please NOTE that the link to assets (like images) need to be set in global context.
For example:
To access an image from assets folder correct way to set src attribute is 

src = 'profile.png'

instead of 

src = './assets/profile.png'
-->

<head>
   <meta charset="UTF-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <title>Ticket Management App</title>

   <link rel="stylesheet" href="style.css">


</head>

<body>
   <!-- TOOL BOX ELEMENTS -->
   <div class="toolbox-cont">
      <div class="toolbox-priority-cont">
         <div class="lightpink color"></div>
         <div class="lightgreen color"></div>
         <div class="lightblue color"></div>
         <div class="black color"></div>
      </div>


   </div>

   <!-- MAIN CONTAINER - Tickets holder -->
   <div class="main-cont">
      <!-- <div class="ticket-cont">
            <div class="ticket-color"></div>
            <div class="ticket-id">id 1</div>
            <div class="task-area"> this  is task 1</div>
            <div class="ticket-lock">
              <i class="fa-solid fa-lock"></i>
           </div> -->
   </div>
   </div>

   <!-- MODAL - Ticket generator window -->
   <div class="modal-cont">

      <textarea class="textArea-cont" placeholder="Enter Your Task" spellcheck="false">

       </textarea>


      <div class="priority-colors-container">
         <div class="lightpink priority-color"></div>
         <div class="lightgreen priority-color"></div>
         <div class="lightblue priority-color"></div>
         <div class="black priority-color active"></div>
      </div>

   </div>

   <script src="script.js"></script>

   <script>
      // Write your solution here =====================================================
      let filterColors = document.querySelectorAll(".toolbox-priority-cont .color");
      for (let i = 0; i < filterColors.length; i++) {
         filterColors[i].addEventListener('dblclick', function (e) {
            let allCards = document.querySelectorAll('.main-cont .ticket-cont');
            for (let i = 0; i < allCards.length; i++) {
               allCards[i].remove();
            }
            for (let i = 0 ;i < ticketsArr.length;i++) {
               createTicket(ticketsArr[i].ticketTask, ticketsArr[i].ticketColor, ticketsArr[i].ticketID);
            }
         });


         filterColors[i].addEventListener('click', function (e) {
            //find the color whhich is clicked
            let clickedColor = e.target.classList[0];
            let allCards = document.querySelectorAll('.main-cont .ticket-cont');
            // loop through all the listed cards
            for (let i = 0; i < allCards.length; i++) {
               allCards[i].remove();
            }
            for (let i = 0 ; i < ticketsArr.length ; i++) {
               if (ticketsArr[i]['ticketColor'] === clickedColor) {
                  createTicket(ticketsArr[i].ticketTask, ticketsArr[i].ticketColor, ticketsArr[i].ticketID);
               }
            }

         }
         );
      }
   </script>



</body>

</html>